---
title: 搭建轻量级Web服务器<一>
date: 2020-05-02 15:16:21
tags: WebServer
categories: 网络编程
---
### TinyWebServer

参考[Github](https://github.com/qinguoyi/TinyWebServer)在Linux下搭建C++轻量级Web服务器，快速实践学习网络编程，搭建属于自己的服务器.

- 使用**线程池 + epoll(ET和LT均实现) + 模拟Proactor模式**并发模型

- 使用**状态机**解析HTTP请求报文，支持解析GET和POST请求

- 通过访问服务器数据库实现web端用户注册、登录功能，可以请求服务器图片和视频文件

- 实现**同步/异步日志系统**，记录服务器运行状态

- 经Webbench压力测试可以实现**上万的并发连接**数据交换
<!--more-->
### 框架

- 项目框架主要分为I/O处理单元、逻辑处理单元和存储单元三个模块

    - I/O处理单元和逻辑处理单元对应**半同步/半反应堆线程池**

    - 逻辑处理单元和存储单元对应**数据库连接池和日志系统**

- **半同步/半反应堆线程池**将web端和服务器端建立通信

    - 实现http请求报文的处理与响应

    - 定时器完成非活动连接的处理

- **数据库连接池**避免频繁访问数据库，实现登录和校验功能

- **日志系统**实现同步和异步两种方式记录服务器运行状态

![](1.jpeg)

